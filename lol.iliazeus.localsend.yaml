id: lol.iliazeus.localsend
runtime: org.kde.Platform
# runtime-version: "6.7"
# runtime-version: "6.10"
runtime-version: "6.9"
sdk: org.kde.Sdk
base: io.qt.PySide.BaseApp
# base-version: "6.7"
# base-version: "6.10"
base-version: "6.9"
command: /app/src/main.py
finish-args:
  - --share=ipc
  - --share=network
  # - --socket=wayland
  - --socket=inherit-wayland-socket
  - --socket=fallback-x11
  - --device=dri
  - --socket=pulseaudio
build-options:
  build-args:
    - --share=network
modules:
  - name: localsend
    buildsystem: simple
    sources:
      - type: dir
        path: .
        dest: ./src
    build-commands:
      - python -m pip install --prefix /app -r ./src/requirements.txt
      - cp -r ./src /app/src
cleanup-commands:
  - /app/cleanup-BaseApp.sh
